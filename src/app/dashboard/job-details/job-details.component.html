<!-- Título do Modal -->
<h1 mat-dialog-title>Child Jobs</h1>

<div mat-dialog-content>
    <!-- Tabela para exibir os jobs filhos -->
    <table mat-table [dataSource]="data.child_jobs" class="child-job-table">

        <!-- Coluna ID -->
        <ng-container matColumnDef="_id">
            <th mat-header-cell *matHeaderCellDef>ID</th>
            <td mat-cell *matCellDef="let job">{{job._id}}</td>
        </ng-container>

        <!-- Coluna Nome do Job -->
        <ng-container matColumnDef="nome_job">
            <th mat-header-cell *matHeaderCellDef>Job Name</th>
            <td mat-cell *matCellDef="let job">{{job.nome_job}}</td>
        </ng-container>

        <!-- Coluna Status. A cor do texto é determinada pelo status -->
        <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef>Status</th>
            <td mat-cell *matCellDef="let job" [ngClass]="{'failed': job.status === 'failed', 'success': job.status === 'success'}">{{job.status}}</td>
        </ng-container>

        <!-- Coluna Data de Início. A data é formatada para uma forma curta -->
        <ng-container matColumnDef="data_inicial">
            <th mat-header-cell *matHeaderCellDef>Start Date</th>
            <td mat-cell *matCellDef="let job">{{job.data_inicial | date:'short'}}</td>
        </ng-container>

        <!-- Coluna Data de Fim. A data é formatada para uma forma curta -->
        <ng-container matColumnDef="data_final">
            <th mat-header-cell *matHeaderCellDef>End Date</th>
            <td mat-cell *matCellDef="let job">{{job.data_final | date:'short'}}</td>
        </ng-container>

        <!-- Coluna Descrição do Erro -->
        <ng-container matColumnDef="error_description">
            <th mat-header-cell *matHeaderCellDef>Error</th>
            <td mat-cell *matCellDef="let job">{{job.error_description}}</td>
        </ng-container>

        <!-- Definindo as colunas para as linhas de cabeçalho e de dados -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
</div>

<!-- Botão para fechar o modal -->
<div mat-dialog-actions>
    <button mat-button mat-dialog-close>Close</button>
</div>
